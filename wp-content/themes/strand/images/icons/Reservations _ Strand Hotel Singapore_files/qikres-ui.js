var zIndex=1,Drag={obj:null,init:function(a,b,c,d,e,f,g,h,i,j){a.onmousedown=Drag.start,a.hmode=g?!1:!0,a.vmode=h?!1:!0,a.root=b&&null!=b?b:a,a.root.style.zIndex=zIndex,a.hmode&&isNaN(parseInt(a.root.style.left))&&(a.root.style.left="280px"),a.vmode&&isNaN(parseInt(a.root.style.top))&&(a.root.style.top="80px"),!a.hmode&&isNaN(parseInt(a.root.style.right))&&(a.root.style.right="0px"),!a.vmode&&isNaN(parseInt(a.root.style.bottom))&&(a.root.style.bottom="0px"),a.minX=c!==void 0?c:null,a.minY=e!==void 0?e:null,a.maxX=d!==void 0?d:null,a.maxY=f!==void 0?f:null,a.xMapper=i?i:null,a.yMapper=j?j:null,a.root.onDragStart=Function(),a.root.onDragEnd=Function(),a.root.onDrag=Function(),a.root.onclick=function(){a.root.style.zIndex=++zIndex}},start:function(a){var b=Drag.obj=this;a=Drag.fixE(a);var c=parseInt(b.vmode?b.root.style.top:b.root.style.bottom),d=parseInt(b.hmode?b.root.style.left:b.root.style.right);return b.root.onDragStart(d,c),b.lastMouseX=a.clientX,b.lastMouseY=a.clientY,b.hmode?(null!=b.minX&&(b.minMouseX=a.clientX-d+b.minX),null!=b.maxX&&(b.maxMouseX=b.minMouseX+b.maxX-b.minX)):(null!=b.minX&&(b.maxMouseX=-b.minX+a.clientX+d),null!=b.maxX&&(b.minMouseX=-b.maxX+a.clientX+d)),b.vmode?(null!=b.minY&&(b.minMouseY=a.clientY-c+b.minY),null!=b.maxY&&(b.maxMouseY=b.minMouseY+b.maxY-b.minY)):(null!=b.minY&&(b.maxMouseY=-b.minY+a.clientY+c),null!=b.maxY&&(b.minMouseY=-b.maxY+a.clientY+c)),document.onmousemove=Drag.drag,document.onmouseup=Drag.end,b.onclick=function(){b.root.style.zIndex=++zIndex},!1},drag:function(a){a=Drag.fixE(a);var g,h,b=Drag.obj,c=a.clientY,d=a.clientX,e=parseInt(b.vmode?b.root.style.top:b.root.style.bottom),f=parseInt(b.hmode?b.root.style.left:b.root.style.right);return null!=b.minX&&(d=b.hmode?Math.max(d,b.minMouseX):Math.min(d,b.maxMouseX)),null!=b.maxX&&(d=b.hmode?Math.min(d,b.maxMouseX):Math.max(d,b.minMouseX)),null!=b.minY&&(c=b.vmode?Math.max(c,b.minMouseY):Math.min(c,b.maxMouseY)),null!=b.maxY&&(c=b.vmode?Math.min(c,b.maxMouseY):Math.max(c,b.minMouseY)),g=f+(d-b.lastMouseX)*(b.hmode?1:-1),h=e+(c-b.lastMouseY)*(b.vmode?1:-1),b.xMapper?g=b.xMapper(e):b.yMapper&&(h=b.yMapper(f)),Drag.obj.root.style[b.hmode?"left":"right"]=g+"px",Drag.obj.root.style[b.vmode?"top":"bottom"]=h+"px",Drag.obj.root.style.zIndex=++b.root.style.zIndex,Drag.obj.lastMouseX=d,Drag.obj.lastMouseY=c,Drag.obj.root.onDrag(g,h),b.onclick=function(){b.root.style.zIndex=++zIndex},!1},end:function(){document.onmousemove=null,document.onmouseup=null,Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode?"left":"right"]),parseInt(Drag.obj.root.style[Drag.obj.vmode?"top":"bottom"])),Drag.obj=null},fixE:function(a){return a===void 0&&(a=window.event),a.layerX===void 0&&(a.layerX=a.offsetX),a.layerY===void 0&&(a.layerY=a.offsetY),a}};